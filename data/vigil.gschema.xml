<?xml version="1.0" encoding="UTF-8"?>
<schemalist>
  <schema id="io.github.invarianz.vigil" path="/io/github/invarianz/vigil/">
    <!-- Window state -->
    <key name="window-width" type="i">
      <default>500</default>
      <summary>Window width</summary>
    </key>
    <key name="window-height" type="i">
      <default>600</default>
      <summary>Window height</summary>
    </key>
    <key name="window-maximized" type="b">
      <default>false</default>
      <summary>Window maximized state</summary>
    </key>

    <!-- Monitoring -->
    <key name="monitoring-enabled" type="b">
      <default>false</default>
      <summary>Whether screenshot monitoring is active</summary>
    </key>

    <!-- Schedule -->
    <key name="min-interval-seconds" type="i">
      <default>30</default>
      <summary>Minimum interval between screenshots in seconds</summary>
    </key>
    <key name="max-interval-seconds" type="i">
      <default>120</default>
      <summary>Maximum interval between screenshots in seconds</summary>
    </key>

    <!-- Matrix transport -->
    <key name="matrix-homeserver-url" type="s">
      <default>''</default>
      <summary>Matrix homeserver URL</summary>
    </key>
    <key name="matrix-access-token" type="s">
      <default>''</default>
      <summary>Matrix access token</summary>
    </key>
    <key name="matrix-room-id" type="s">
      <default>''</default>
      <summary>Matrix room ID for screenshot delivery</summary>
    </key>

    <!-- Partner -->
    <key name="partner-matrix-id" type="s">
      <default>''</default>
      <summary>Accountability partner's Matrix user ID (e.g. @partner:matrix.org)</summary>
    </key>

    <!-- Device -->
    <key name="device-id" type="s">
      <default>''</default>
      <summary>Matrix device identifier (auto-generated at login)</summary>
    </key>

    <!-- E2EE -->
    <key name="matrix-user-id" type="s">
      <default>''</default>
      <summary>Matrix user ID (e.g. @user:matrix.org), set during login</summary>
    </key>
    <key name="e2ee-pickle-key" type="s">
      <default>''</default>
      <summary>E2EE password used to encrypt Olm/Megolm state at rest</summary>
    </key>

    <!-- Settings lock -->
    <key name="settings-locked" type="b">
      <default>false</default>
      <summary>Whether settings are locked (requires partner unlock code to change)</summary>
    </key>
    <key name="unlock-code-hash" type="s">
      <default>''</default>
      <summary>SHA-256 hash of the current unlock code (plaintext held by partner)</summary>
    </key>

    <!-- System -->
    <key name="background-portal-granted" type="b">
      <default>false</default>
      <summary>Whether the XDG Background portal granted autostart permission</summary>
    </key>

    <!-- Heartbeat -->
    <key name="heartbeat-interval-seconds" type="i">
      <default>900</default>
      <summary>Interval between heartbeat pings in seconds</summary>
    </key>

    <!-- Upload batching -->
    <key name="upload-batch-interval-seconds" type="i">
      <default>600</default>
      <summary>How often to send accumulated screenshots to the partner (seconds)</summary>
    </key>

    <!-- Tamper detection -->
    <key name="tamper-check-interval-seconds" type="i">
      <default>120</default>
      <summary>Interval between tamper detection checks in seconds</summary>
    </key>
  </schema>
</schemalist>
